# 🤖 Telegram Instagram Downloader Bot

یک ربات پیشرفته تلگرام برای دانلود ویدیو و عکس از اینستاگرام با پنل مدیریت کامل

## ✨ امکانات

- 🎬 دانلود ویدیو و عکس از اینستاگرام
- 📊 پنل کاربری پیشرفته با آمار کامل
- 🔧 پنل مدیریت پیشرفته (دسترسی با `/panel`)
- 📈 آمارگیری کامل کاربران و دانلودها
- 🚫 سیستم محدودیت روزانه دانلود
- 💾 ذخیره اطلاعات در پایگاه داده MySQL
- 🛡️ سیستم مدیریت کاربران و بن
- 📱 رابط کاربری فارسی و کاملاً کاربرپسند

## 📁 فایل‌ها

- `config.php` - تنظیمات ربات و اتصال پایگاه داده
- `bot.php` - فایل اصلی ربات با تمام عملکردها

## ⚙️ نصب و راه‌اندازی

### 1. پیش‌نیازها

- PHP 7.4 یا بالاتر
- MySQL/MariaDB
- cURL extension
- PDO MySQL extension

### 2. ایجاد ربات در تلگرام

1. به [@BotFather](https://t.me/BotFather) پیام دهید
2. دستور `/newbot` را ارسال کنید
3. نام و نام کاربری ربات را انتخاب کنید
4. توکن ربات را کپی کنید

### 3. تنظیم فایل config.php

```php
define('BOT_TOKEN', 'YOUR_BOT_TOKEN_HERE'); // توکن ربات خود را اینجا قرار دهید
define('ADMIN_ID', 123456789); // آیدی تلگرام خود را اینجا قرار دهید
```

### 4. تنظیم پایگاه داده

```php
define('DB_HOST', 'localhost');
define('DB_NAME', 'telegram_bot'); // نام پایگاه داده
define('DB_USER', 'root');        // نام کاربری پایگاه داده
define('DB_PASS', '');            // رمز عبور پایگاه داده
```

### 5. ایجاد پایگاه داده

```sql
CREATE DATABASE telegram_bot CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

### 6. آپلود فایل‌ها

فایل‌های `config.php` و `bot.php` را روی سرور خود آپلود کنید.

### 7. تنظیم Webhook

```bash
curl -F "url=https://yourdomain.com/bot.php" https://api.telegram.org/bot{YOUR_BOT_TOKEN}/setWebhook
```

## 🎯 نحوه استفاده

### کاربران عادی:
- `/start` - شروع ربات
- ارسال لینک اینستاگرام برای دانلود
- استفاده از منوی کلیدبورد برای دسترسی به امکانات

### مدیر:
- `/panel` - دسترسی به پنل مدیریت
- مشاهده آمار کلی
- مدیریت کاربران
- کنترل دانلودها

## 📊 ساختار پایگاه داده

### جدول users
- `id` - آیدی کاربر تلگرام
- `username` - نام کاربری
- `first_name` - نام
- `last_name` - نام خانوادگی
- `downloads_today` - تعداد دانلود امروز
- `total_downloads` - کل دانلودها
- `is_banned` - وضعیت بن
- `join_date` - تاریخ عضویت
- `last_activity` - آخرین فعالیت

### جدول downloads
- `id` - شناسه دانلود
- `user_id` - آیدی کاربر
- `url` - لینک دانلود شده
- `file_type` - نوع فایل
- `file_size` - حجم فایل
- `download_date` - تاریخ دانلود

### جدول settings
- `setting_key` - کلید تنظیم
- `setting_value` - مقدار تنظیم

## 🔧 تنظیمات قابل تغییر

```php
define('MAX_DOWNLOADS_PER_DAY', 50);     // حداکثر دانلود روزانه
define('MAX_FILE_SIZE', 50 * 1024 * 1024); // حداکثر حجم فایل (50MB)
```

## 🛡️ امنیت

- تمام ورودی‌ها اعتبارسنجی می‌شوند
- استفاده از Prepared Statements برای جلوگیری از SQL Injection
- محدودیت دانلود روزانه
- سیستم بن کاربران

## 🚀 ویژگی‌های پیشرفته

- **چند روش دانلود**: استفاده از چند API مختلف برای دانلود
- **مدیریت خطا**: هندل کردن انواع خطاها
- **کش کردن**: بهینه‌سازی عملکرد
- **گزارش‌گیری**: آمار کامل استفاده
- **رابط کاربری**: منوهای تعاملی و کاربرپسند

## 📞 پشتیبانی

در صورت بروز مشکل:
1. بررسی لاگ‌های سرور
2. بررسی تنظیمات webhook
3. اطمینان از صحت توکن ربات
4. بررسی دسترسی‌های پایگاه داده

## 📄 مجوز

این پروژه تحت مجوز MIT منتشر شده است.

---

🎉 **ربات آماده استفاده است! به کاربران خود بگویید `/start` کنند**
